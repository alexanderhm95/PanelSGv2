"use strict";(self.webpackChunkPanelSG=self.webpackChunkPanelSG||[]).push([[270],{9858:(H,f,r)=>{r.r(f),r.d(f,{TestDocenteModule:()=>R});var a=r(6895),d=r(668),m=r(7579),c=r(2722),e=r(8256),_=r(4204),x=r(2126),p=r(9017),l=r(433);function Z(i,n){1&i&&(e.TgZ(0,"div",3),e._UZ(1,"div",4),e.TgZ(2,"div",3)(3,"div",5),e._UZ(4,"div",6),e.TgZ(5,"div",7)(6,"span",8),e._uU(7,"Cargando"),e.qZA(),e.TgZ(8,"span",9),e._uU(9,"..."),e.qZA()()()()())}function b(i,n){if(1&i&&(e.TgZ(0,"option",32),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.s9C("value",t.valueAnswer),e.xp6(1),e.hij(" ",t.nameAnswer," ")}}function T(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",28)(1,"label",29),e._uU(2),e.qZA(),e.TgZ(3,"select",30),e.NdJ("ngModelChange",function(s){const g=e.CHM(t).$implicit,k=e.oxw(3);return e.KtG(k.answers[g._id]=s)})("ngModelChange",function(){e.CHM(t);const s=e.oxw(3);return e.KtG(s.checkFormValidity())}),e.YNc(4,b,2,2,"option",31),e.qZA()()}if(2&i){const t=n.$implicit,o=e.oxw(3);e.xp6(2),e.hij(" ",t.nameQuestion,""),e.xp6(1),e.s9C("name",t._id),e.Q6J("ngModel",o.answers[t._id]),e.xp6(1),e.Q6J("ngForOf",t.answer)}}function A(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",23),e.NdJ("ngSubmit",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.create())}),e.TgZ(1,"fieldset",24),e.YNc(2,T,5,4,"div",25),e.TgZ(3,"div",26)(4,"button",27),e._uU(5," Registrar "),e.qZA()()()()}if(2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t.test),e.xp6(2),e.Q6J("disabled",t.answersForm)}}function y(i,n){1&i&&(e.TgZ(0,"div",33),e._uU(1," No hay preguntas para ejecutar el test "),e.qZA())}function w(i,n){if(1&i&&(e.TgZ(0,"div",10)(1,"div",11),e._uU(2," Evaluaci\xf3n del docente "),e.qZA(),e.TgZ(3,"div",12)(4,"div",13)(5,"div",14)(6,"div",15)(7,"div",16),e._uU(8," INTRODUCCI\xd3N PARA EL/LA DOCENTE "),e.qZA()(),e.TgZ(9,"div",17)(10,"div",18),e._uU(11," De los siguientes indicadores de riesgo presentes en ni\xf1as y ni\xf1os v\xedctimas de violencia sexual, marque de acuerdo a la frecuencia con la cual usted ha podido observar en la interacci\xf3n con el ni\xf1o o ni\xf1a referido en el contexto escolar; siendo 0 es nulo, 1 poco frecuente, 2 medianamente frecuente y 3 muy frecuente. "),e.qZA()()(),e.TgZ(12,"div",14)(13,"div",15)(14,"div",16),e._uU(15,"ESTUDIANTE"),e.qZA()(),e.TgZ(16,"div",17)(17,"div",19),e._uU(18),e.qZA()()(),e.TgZ(19,"div",14)(20,"div",15)(21,"div",16),e._uU(22," GRADO Y PARALELO "),e.qZA()(),e.TgZ(23,"div",20)(24,"div",19),e._uU(25),e.qZA()()(),e.TgZ(26,"div",14)(27,"div",15)(28,"div",16),e._uU(29," DOCENTE EVALUADOR "),e.qZA()(),e.TgZ(30,"div",17)(31,"div",19),e._uU(32),e.qZA()()(),e.TgZ(33,"div",14)(34,"div",15)(35,"div",16),e._uU(36," FECHA DE APLICACI\xd3N "),e.qZA()(),e.TgZ(37,"div",17)(38,"div",19),e._uU(39),e.ALo(40,"date"),e.qZA()()()()(),e.TgZ(41,"div",12),e.YNc(42,A,6,2,"form",21),e.qZA(),e.TgZ(43,"div",12),e.YNc(44,y,2,0,"div",22),e.qZA()()),2&i){const t=e.oxw();e.xp6(18),e.hij(" ",(null==t.caso?null:t.caso.nameStudent)+" "+(null==t.caso?null:t.caso.lastNameStudent)," "),e.xp6(7),e.hij(" ",(null==t.caso?null:t.caso.grade)+" "+(null==t.caso?null:t.caso.parallel)," "),e.xp6(7),e.hij(" ",(null==t.caso?null:t.caso.nameTeacher)+" "+(null==t.caso?null:t.caso.lastNameTeacher)," "),e.xp6(7),e.hij(" ",e.xi3(40,6,t.date,"dd/MM/yyyy")," "),e.xp6(3),e.Q6J("ngIf",t.test.length>0),e.xp6(2),e.Q6J("ngIf",t.test.length<=0)}}let C=(()=>{class i{constructor(t,o,s,u,g){this.questionService=t,this.notification=o,this.casoService=s,this.router=u,this.route=g,this.onDestroy=new m.x,this.test=[],this.answers=[],this.id=null,this.answersForm=!0,this.loading=!0}ngOnInit(){this.date=new Date,this.id=this.route.snapshot.paramMap.get("id"),this.getCaso()}ngOnDestroy(){this.onDestroy.next(),this.onDestroy.complete()}handleError(t){this.loading=!1,this.notification.showError("Error",0===t.status?"Error de conexi\xf3n con el servidor":t.error.error)}createRespuestas(){return Object.entries(this.answers).map(([t,o])=>({refQuestion:t,valueAnswer:parseInt(o,10)}))}checkFormValidity(){const t=this.createRespuestas();this.answersForm=t.length!==this.test.length}create(){const t=this.createRespuestas();t.length<this.test.length?this.notification.showError("Error","Debe completar todos los campos"):this.casoService.createTestTeacher({ciStudent:this.caso?.ciStudent,ciTeacher:this.caso?.ciTeacher,answers:t}).pipe((0,c.R)(this.onDestroy)).subscribe(s=>{this.notification.showSuccess("Registro","Evaluaci\xf3n completada con \xe9xito"),this.router.navigate(["../../listar"],{relativeTo:this.route})},s=>this.handleError(s))}getCaso(){this.casoService.getCaso(this.id).pipe((0,c.R)(this.onDestroy)).subscribe(t=>{this.caso=t.data,this.getTest()},t=>this.handleError(t))}getTest(){this.questionService.getAllQuestion().pipe((0,c.R)(this.onDestroy)).subscribe(t=>{this.test=t.data,this.loading=!1},t=>this.handleError(t))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(_.R),e.Y36(x.T),e.Y36(p.z),e.Y36(d.F0),e.Y36(d.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-editar"]],features:[e._Bn([a.uU])],decls:3,vars:2,consts:[[1,"transition","ease-in-out","delay-150","w-[95%]","h-[90%]","lg:h-[95%]","lg:m-2","mx-4","my-2","bg-cameo","border-4","border-camelot","rounded-lg","overflow-x-hidden","duration-300","flex","justify-center"],["class","flex items-center justify-center",4,"ngIf"],["class","w-[100%]  lg:flex-col items-center",4,"ngIf"],[1,"flex","items-center","justify-center"],[1,"fixed","inset-0","bg-black","opacity-50"],[1,"flex","flex-col","items-center"],[1,"animate-spin","rounded-full","h-20","w-20","border-t-4","border-b-4","border-primary"],[1,"flex","items-center","mt-2"],[1,"text-xl","font-bold","mr-1"],[1,"text-xl","animate-bounce"],[1,"w-[100%]","lg:flex-col","items-center"],[1,"grid","grid-cols-1","text-center","text-3xl","font-bold","text-camelot","py-4"],[1,"w-full","grid","grid-cols-1","justify-items-center"],[1,"w-[80%]"],[1,"lg:grid","lg:grid-cols-3","px-8","sm:flex"],[1,"col-span-1"],[1,"w-full","flex","text-camelot","font-semibold"],[1,"col-span-2"],[1,"w-full","flex","text-nile-blue","font-semibold","text-justify","sm:pl-2"],[1,"w-full","flex","text-nile-blue","font-semibold","sm:pl-2"],[1,"col-span-2","uppercase"],["class","w-[80%]  jusitems-center",3,"ngSubmit",4,"ngIf"],["class"," w-[80%] mx-4 flex bg-red-700 text-red text-xl rounded-lg font-bold items-center justify-center py-2 text-center",4,"ngIf"],[1,"w-[80%]","jusitems-center",3,"ngSubmit"],[1,"w-full"],["class","w-full my-2 border border-white rounded-lg p-2 flex flex-col lg:justify-start lg:gap-2 ml-4 first-letter shadow",4,"ngFor","ngForOf"],[1,"w-full","flex","text-camelot","text-lg","mr-2","my-4","justify-end"],["type","submit",1,"border-2","border-camelot","text-lg","text-nile-blue","bg-cameo","rounded-lg","px-2","py-2","my-3","hover:bg-nile-blue","hover:text-cameo",3,"disabled"],[1,"w-full","my-2","border","border-white","rounded-lg","p-2","flex","flex-col","lg:justify-start","lg:gap-2","ml-4","first-letter","shadow"],[1,"w-full","text-nile-blue","text-base","font-bold","flex","flex-row"],[1,"w-full","flex","flex-row",3,"ngModel","name","ngModelChange"],["class","text-black-300 font-semibold ",3,"value",4,"ngFor","ngForOf"],[1,"text-black-300","font-semibold",3,"value"],[1,"w-[80%]","mx-4","flex","bg-red-700","text-red","text-xl","rounded-lg","font-bold","items-center","justify-center","py-2","text-center"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Z,10,0,"div",1),e.YNc(2,w,45,9,"div",2),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.loading),e.xp6(1),e.Q6J("ngIf",!o.loading))},dependencies:[a.sg,a.O5,l._Y,l.YN,l.Kr,l.EJ,l.JJ,l.JL,l.On,l.F,a.uU],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:100%;height:100%;align-items:center;justify-content:center}"]}),i})();var v=r(6561),E=r(1045);function U(i,n){1&i&&(e.TgZ(0,"div",3),e._UZ(1,"div",4),e.TgZ(2,"div",3)(3,"div",5),e._UZ(4,"div",6),e.TgZ(5,"div",7)(6,"span",8),e._uU(7,"Cargando"),e.qZA(),e.TgZ(8,"span",9),e._uU(9,"..."),e.qZA()()()()())}function q(i,n){if(1&i&&(e.TgZ(0,"div")(1,"button",30),e._uU(2," Evaluar "),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("routerLink","../evaluar/"+t.id)}}function j(i,n){1&i&&(e.TgZ(0,"div")(1,"button",31),e._uU(2," Atendido "),e.qZA()())}function F(i,n){if(1&i&&(e.TgZ(0,"tr")(1,"td",24)(2,"div",25)(3,"span")(4,"strong"),e._uU(5,"CI: "),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"span")(8,"strong"),e._uU(9,"Nombres: "),e.qZA(),e._uU(10),e.qZA()()(),e.TgZ(11,"td",26),e._uU(12),e.qZA(),e.TgZ(13,"td",27)(14,"div",28),e.YNc(15,q,3,1,"div",29),e.YNc(16,j,3,0,"div",29),e.qZA()()()),2&i){const t=n.$implicit;e.xp6(6),e.hij(" ",t.CI,""),e.xp6(4),e.AsE(" ",t.name," ",t.lastName,""),e.xp6(2),e.hij(" ",t.institution," "),e.xp6(2),e.Q6J("ngSwitch",t.statusTestTeacher),e.xp6(1),e.Q6J("ngSwitchCase",!1),e.xp6(1),e.Q6J("ngSwitchCase",!0)}}function N(i,n){if(1&i&&(e.TgZ(0,"tbody"),e.YNc(1,F,17,7,"tr",23),e.ALo(2,"filterTables"),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,t.casos,t.search))}}function D(i,n){if(1&i&&(e.TgZ(0,"div")(1,"button",30),e._uU(2," Evaluar "),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("routerLink","../evaluar/"+t.id)}}function J(i,n){1&i&&(e.TgZ(0,"div")(1,"button",31),e._uU(2,"Atendido"),e.qZA()())}function S(i,n){if(1&i&&(e.TgZ(0,"div",32)(1,"div",33),e._uU(2," Evaluador "),e.qZA(),e.TgZ(3,"div",34)(4,"div",35),e._uU(5,"CI:"),e.qZA(),e.TgZ(6,"div",36),e._uU(7),e.qZA()(),e.TgZ(8,"div",34)(9,"div",35),e._uU(10,"Nombre:"),e.qZA(),e.TgZ(11,"div",36),e._uU(12),e.qZA()(),e.TgZ(13,"div",33),e._uU(14," Estudiante "),e.qZA(),e.TgZ(15,"div",34)(16,"div",35),e._uU(17,"CI:"),e.qZA(),e.TgZ(18,"div",36),e._uU(19),e.qZA()(),e.TgZ(20,"div",34)(21,"div",35),e._uU(22,"Nombre:"),e.qZA(),e.TgZ(23,"div",36),e._uU(24),e.qZA()(),e.TgZ(25,"div",34)(26,"div",35),e._uU(27," Instituci\xf3n "),e.qZA(),e.TgZ(28,"div",36),e._uU(29),e.qZA()(),e.TgZ(30,"div",37)(31,"div",28),e.YNc(32,D,3,1,"div",29),e.YNc(33,J,3,0,"div",29),e.qZA()()()),2&i){const t=n.$implicit;e.xp6(7),e.hij(" ",t.CIteacher," "),e.xp6(5),e.AsE(" ",t.nameT," ",t.lastNameT," "),e.xp6(7),e.hij(" ",t.CI," "),e.xp6(5),e.AsE(" ",t.name," ",t.lastName," "),e.xp6(5),e.hij(" ",t.institution," "),e.xp6(2),e.Q6J("ngSwitch",t.statusTestTeacher),e.xp6(1),e.Q6J("ngSwitchCase",!1),e.xp6(1),e.Q6J("ngSwitchCase",!0)}}function I(i,n){1&i&&(e.TgZ(0,"div",38),e._uU(1," No hay datos para mostrar "),e.qZA())}function L(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",10)(1,"div",11),e._uU(2," Casos Asignados "),e.qZA(),e.TgZ(3,"div",12)(4,"div",13)(5,"input",14),e.NdJ("ngModelChange",function(s){e.CHM(t);const u=e.oxw();return e.KtG(u.search=s)}),e.qZA()()(),e.TgZ(6,"div",15)(7,"table",16)(8,"thead",17)(9,"tr")(10,"th",18),e._uU(11," Estudiante "),e.qZA(),e.TgZ(12,"th",18),e._uU(13," Instituci\xf3n "),e.qZA(),e.TgZ(14,"th",18)(15,"label",3),e._uU(16,"Acciones"),e.qZA()()()(),e.YNc(17,N,3,4,"tbody",19),e.qZA()(),e.TgZ(18,"div",20),e.YNc(19,S,34,10,"div",21),e.ALo(20,"filterTables"),e.qZA(),e.YNc(21,I,2,0,"div",22),e.qZA()}if(2&i){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t.search),e.xp6(12),e.Q6J("ngIf",t.casos),e.xp6(2),e.Q6J("ngForOf",e.xi3(20,4,t.casos,t.search)),e.xp6(2),e.Q6J("ngIf",!t.casos)}}let M=(()=>{class i{constructor(t,o,s){this.notificationsService=t,this.authService=o,this.casosService=s,this.casos=[],this.loading=!0,this.search="",this.onDestroy=new m.x}ngOnInit(){this.idUserTeacher=this.authService.getUserId(),this.loadCasos(this.idUserTeacher)}loadCasos(t){this.casosService.getAllCasosTeacher(t).pipe((0,c.R)(this.onDestroy)).subscribe(({message:o,data:s})=>{this.casos=s,this.loading=!1,console.log(o)},o=>this.handleError(o))}handleError(t){this.loading=!1,this.notificationsService.showError("Error",0===t.status?"Error de conexi\xf3n con el servidor":t.error.error)}ngOnDestroy(){this.onDestroy.next(),this.onDestroy.complete()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(x.T),e.Y36(E.e),e.Y36(p.z))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-listar"]],features:[e._Bn([v.u])],decls:3,vars:2,consts:[[1,"transition","ease-in-out","delay-150","w-[95%]","h-[90%]","lg:h-[95%]","lg:m-2","mx-4","my-2","bg-cameo","border-4","border-camelot","rounded-lg","overflow-x-hidden","duration-300","flex","justify-center"],["class","flex items-center justify-center",4,"ngIf"],["class","w-full",4,"ngIf"],[1,"flex","items-center","justify-center"],[1,"fixed","inset-0","bg-black","opacity-50"],[1,"flex","flex-col","items-center"],[1,"animate-spin","rounded-full","h-20","w-20","border-t-4","border-b-4","border-primary"],[1,"flex","items-center","mt-2"],[1,"text-xl","font-bold","mr-1"],[1,"text-xl","animate-bounce"],[1,"w-full"],[1,"grid","grid-cols-1","mx-4","text-center","text-3xl","font-bold","text-camelot","py-2"],[1,"grid","grid-cols-1","mx-4"],[1,"flex"],["placeholder","Buscar por c\xe9dula, nombre",1,"mx-3","px-2","py-3","border-b-2","border-camelot","rounded-lg","bg-none","text-camelot","text-xs","font-semibold","tracking-wide","lg:w-[20%]","focus:outline-none","focus:border-camelot-400",3,"ngModel","ngModelChange"],[1,"w-full","lg:h-auto","px-4","py-2","rounded-lg","shadow","hidden","lg:block"],[1,"w-full","lg:h-[92%]","my-2"],[1,"bg-nile-blue-200","border-b-2","border-nile-blue","text-cameo"],[1,"p-3","text-sm","font-semibold","tracking-wide","text-center"],[4,"ngIf"],[1,"w-full","lg:h-auto","px-4","py-2","rounded-lg","lg:hidden"],["class","w-full h-full flex flex-col mb-2 border border-camelot rounded-lg hover:shadow-sm hover:shadow-camelot-300",4,"ngFor","ngForOf"],["class"," mx-4 flex bg-red-700 text-red text-xl rounded-lg font-bold items-center justify-center py-2 text-center",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"p-3","text-base","text-black-100","tracking-wide","text-left"],[1,"flex","flex-col"],[1,"p-3","text-sm","text-black-100","tracking-wide","text-center"],[1,"p-3","text-sm","text-black-100","tracking-wide","flex","items-center","justify-center"],[3,"ngSwitch"],[4,"ngSwitchCase"],["type","button",1,"btnAccion",3,"routerLink"],["type","button","disabled","",1,"btnAccion"],[1,"w-full","h-full","flex","flex-col","mb-2","border","border-camelot","rounded-lg","hover:shadow-sm","hover:shadow-camelot-300"],[1,"w-full","grid","grid-cols-1","break-all","items-center","space-x-2","text-center","text-camelot","text-lg","px-2","font-bold","underline"],[1,"w-full","grid","grid-cols-5","break-all","items-left","space-x-2","text","pl-2","py-2","pr-2"],[1,"col-span-2","break-all","font-bold","text-camelot"],[1,"col-span-3","break-all","text-nile-blue"],[1,"flex","flex-row","gap-2","justify-end","my-2"],[1,"mx-4","flex","bg-red-700","text-red","text-xl","rounded-lg","font-bold","items-center","justify-center","py-2","text-center"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,U,10,0,"div",1),e.YNc(2,L,22,7,"div",2),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.loading),e.xp6(1),e.Q6J("ngIf",!o.loading))},dependencies:[a.sg,a.O5,a.RF,a.n9,d.rH,l.Fj,l.JJ,l.On,v.u],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:100%;height:100%;align-items:center;justify-content:center}"]}),i})();var h=r(7574);const Y=[{path:"listar",component:M,canActivate:[h.a],data:{requiredRole:"TEACHER"},title:"Evaluaci\xf3n Docente"},{path:"evaluar/:id",component:C,canActivate:[h.a],data:{requiredRole:"TEACHER"},title:"Evaluaci\xf3n Docente"}];let Q=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[d.Bz.forChild(Y),d.Bz]}),i})();var O=r(4466);let R=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[a.ez,Q,l.UX,l.u5,O.m]}),i})()}}]);
"use strict";(self.webpackChunkPanelSG=self.webpackChunkPanelSG||[]).push([[258],{4258:(oe,p,m)=>{m.r(p),m.d(p,{TestEstudianteModule:()=>re});var g=m(6895),u=m(668),a=m(433);class _{constructor(){this.form=new a.cw({name:new a.NI("",[a.kI.required,a.kI.minLength(3)]),imagen:new a.NI("",[a.kI.required,a.kI.minLength(3)]),valor:new a.NI("",[a.kI.required,a.kI.minLength(3),a.kI.pattern("^[0-9]*$")]),section:new a.NI("",[a.kI.required,a.kI.minLength(3),a.kI.pattern("^[0-9]*$")])})}}var d=m(2340),e=m(8256),x=m(529);let f=(()=>{class n{constructor(t){this.http=t,this.URL=d.N.api+"/api/1.0"}createPregunta(t){return this.http.post(`${this.URL}/testImages`,t)}getAllPregunta(){return this.http.get(`${this.URL}/testImages`)}getPregunta(t){return this.http.get(`${this.URL}/testImages/${t}`)}updatePregunta(t,r){return this.http.put(`${this.URL}/testImages/${t}`,r)}deletePregunta(t){return this.http.delete(`${this.URL}/testImages/${t}`)}deleteAllPregunta(){return this.http.delete(`${this.URL}/testImages`)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(x.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),h=(()=>{class n{validateImage(t){return!(!t||!["image/png","image/jpeg","image/jpg"].includes(t.type))}renameImage(t,r){const o=t.name.split(".")[0],l=t.name.split(".")[1],s=`${r}_${o.replace(/[^a-zA-Z]/g,"")}.${l}`;return new File([t],s,{type:t.type})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function T(n,i){1&n&&(e.ynx(0),e._UZ(1,"i",25),e.BQk())}function I(n,i){1&n&&(e.ynx(0),e._UZ(1,"i",26),e.BQk())}function Z(n,i){if(1&n&&(e.TgZ(0,"div",23),e.YNc(1,T,2,0,"ng-container",24),e.YNc(2,I,2,0,"ng-container",24),e.qZA()),2&n){const t=e.oxw();let r,o;e.xp6(1),e.Q6J("ngIf",null==(r=t.formTestImages.form.get("name"))||null==r.errors?null:r.errors.required),e.xp6(1),e.Q6J("ngIf",null==(o=t.formTestImages.form.get("name"))||null==o.errors?null:o.errors.minlength)}}function y(n,i){1&n&&(e.ynx(0),e._UZ(1,"i",27),e.BQk())}function w(n,i){if(1&n&&(e.TgZ(0,"div",23),e.YNc(1,y,2,0,"ng-container",24),e.qZA()),2&n){const t=e.oxw();let r;e.xp6(1),e.Q6J("ngIf",null==(r=t.formTestImages.form.get("imagen"))||null==r.errors?null:r.errors.required)}}function U(n,i){if(1&n&&e._UZ(0,"img",28),2&n){const t=e.oxw();e.Q6J("src",t.imageUrl,e.LSH)}}function C(n,i){1&n&&(e.ynx(0),e._UZ(1,"i",29),e.BQk())}function A(n,i){1&n&&(e.ynx(0),e._UZ(1,"i",26),e.BQk())}function q(n,i){1&n&&(e.ynx(0),e._UZ(1,"i",30),e.BQk())}function N(n,i){if(1&n&&(e.TgZ(0,"div",23),e.YNc(1,C,2,0,"ng-container",24),e.YNc(2,A,2,0,"ng-container",24),e.YNc(3,q,2,0,"ng-container",24),e.qZA()),2&n){const t=e.oxw();let r,o,l;e.xp6(1),e.Q6J("ngIf",null==(r=t.formTestImages.form.get("valor"))||null==r.errors?null:r.errors.required),e.xp6(1),e.Q6J("ngIf",null==(o=t.formTestImages.form.get("valor"))||null==o.errors?null:o.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==(l=t.formTestImages.form.get("valor"))||null==l.errors?null:l.errors.pattern)}}function J(n,i){1&n&&(e.ynx(0),e._UZ(1,"i",29),e.BQk())}function k(n,i){1&n&&(e.ynx(0),e._UZ(1,"i",26),e.BQk())}function Q(n,i){1&n&&(e.ynx(0),e._UZ(1,"i",30),e.BQk())}function F(n,i){if(1&n&&(e.TgZ(0,"div",23),e.YNc(1,J,2,0,"ng-container",24),e.YNc(2,k,2,0,"ng-container",24),e.YNc(3,Q,2,0,"ng-container",24),e.qZA()),2&n){const t=e.oxw();let r,o,l;e.xp6(1),e.Q6J("ngIf",null==(r=t.formTestImages.form.get("section"))||null==r.errors?null:r.errors.required),e.xp6(1),e.Q6J("ngIf",null==(o=t.formTestImages.form.get("section"))||null==o.errors?null:o.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==(l=t.formTestImages.form.get("section"))||null==l.errors?null:l.errors.pattern)}}let Y=(()=>{class n{constructor(t,r,o,l,s){this.testService=t,this.imageService=r,this.route=o,this.router=l,this.http=s,this.api=d.N.api+"/api/1.0",this.formTestImages=new _,this.srcImage="",this.imageUrl="",this.id=""}ngOnInit(){this.formTestImages.form.reset(),this.id=this.route.snapshot.paramMap.get("id"),this.getTest()}getTest(){this.testService.getPregunta(this.id).subscribe(t=>{this.testImages=t,console.log(t),this.setValues(this.testImages)},t=>{console.log(t)})}obtenerImagen(t){return this.http.get(t,{responseType:"blob"})}setValues(t){this.formTestImages.form.patchValue({name:t.name}),this.formTestImages.form.patchValue({valor:t.value}),this.formTestImages.form.patchValue({section:t.section});let r=t.link.split("/");console.log(r),this.obtenerImagen(this.api+t.link).subscribe(o=>{console.log("traje a:",o);const l=new File([o],r[r.length-1],{type:o.type});console.log(l),this.imagenTest=l,this.srcImage="/public/TestImagenes/"+this.imagenTest.name;const s=URL.createObjectURL(o);this.imageUrl=s,this.formTestImages.form.get("imagen")?.setValue(this.srcImage)}),this.formTestImages.form.markAllAsTouched()}update(){this.testImages={name:this.formTestImages.form.value.name,urlImage:this.srcImage,value:this.formTestImages.form.value.value,section:this.formTestImages.form.value.section};const t=new FormData;t.append("singleFile",this.imagenTest),t.append("data",JSON.stringify(this.testImages)),this.testService.updatePregunta(this.id,t).subscribe(r=>{this.router.navigate(["../../listar"],{relativeTo:this.route})},r=>{console.log(r)})}onFileSelected(t){const r=t.target.files[0];if(!this.imageService.validateImage(r))return this.formTestImages.form.patchValue({imagen:""}),this.imagenTest=void 0,void(this.imageUrl="");{this.imagenTest=this.imageService.renameImage(r,"TestImagenes"),this.srcImage="/public/TestImagenes/"+this.imagenTest.name,console.log("Nueva ruta: ",this.srcImage," Archivo",this.imagenTest);const o=new FileReader;o.onload=l=>{this.imageUrl=l.target.result},o.readAsDataURL(r)}}cancel(){this.router.navigate(["../../listar"],{relativeTo:this.route})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f),e.Y36(h),e.Y36(u.gz),e.Y36(u.F0),e.Y36(x.eN))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-editar"]],decls:42,vars:7,consts:[[1,"w-[95%]","lg:h-[95%]","m-2","bg-cameo","border-4","border-camelot","rounded-lg","overflow-x-hidden"],[1,"w-full","lg:h-[10%]","text-center","text-3xl","font-bold","text-camelot","py-4","flex","items-center","justify-center"],[1,"w-full","lg:h-[90%]","py-2",3,"formGroup","ngSubmit"],[1,"w-full","flex","flex-col","items-center"],[1,"lg:w-[60%]","w-[80%]","grid","lg:grid-cols-2","mb-4","grid-cols-1"],[1,"w-full","col-span-1","text-camelot","text-lg","mt-2","py-1","text-left"],["for","name"],[1,"w-full","col-span-1","text-nile-blue","text-lg","flex","items-center","justify-center","mt-1"],["type","text","id","name","formControlName","name",1,"w-full","border-2","border-camelot","rounded-lg","focus:ring-camelot-400","focus:border-camelot-400"],["class","text-red-200 text-xl rounded pl-2 flex","role","alert",4,"ngIf"],["for","imagen"],[1,"flex","flex-col","col-span-1"],[1,"w-full","text-nile-blue","text-lg","flex","items-center","justify-center","mt-1"],["type","file","id","imagen","formControlName","imagen","accept","image/*",1,"w-full","border-2","border-camelot","rounded-lg","focus:ring-camelot-400","focus:border-camelot-400",3,"change"],["alt","Imagen seleccionada","class","w-40 h-40",3,"src",4,"ngIf"],["for","value"],["type","number","id","name","formControlName","valor",1,"w-full","border-2","border-camelot","rounded-lg","focus:ring-camelot-400","focus:border-camelot-400"],["for","section"],["type","number","id","name","formControlName","section",1,"w-full","border-2","border-camelot","rounded-lg","focus:ring-camelot-400","focus:border-camelot-400"],[1,"lg:w-[60%]","w-[80%]","grid","grid-cols-1","mb-4"],[1,"w-full","flex","text-camelot","text-lg","mr-2","mb-2","justify-end"],["type","button",1,"border-2","border-camelot","text-lg","text-nile-blue","bg-cameo","rounded-lg","px-2","py-1","hover:bg-nile-blue","hover:text-cameo","mr-2",3,"click"],["type","submit",1,"border-2","border-camelot","text-lg","text-nile-blue","bg-cameo","rounded-lg","px-2","py-1","hover:bg-nile-blue","hover:text-cameo",3,"disabled"],["role","alert",1,"text-red-200","text-xl","rounded","pl-2","flex"],[4,"ngIf"],["title","Nombre requerido",1,"fa","fa-exclamation-circle","animate-bounce","cursor-pointer","px-1"],["title","Longitud minima requerida",1,"fa","fa-exclamation-circle","animate-bounce","cursor-pointer","px-1"],["title","Imagen requerida",1,"fa","fa-exclamation-circle","animate-bounce","cursor-pointer","px-1"],["alt","Imagen seleccionada",1,"w-40","h-40",3,"src"],["title","Valor requerido",1,"fa","fa-exclamation-circle","animate-bounce","cursor-pointer","px-1"],["title","Solo se permiten n\xfameros ",1,"fa","fa-exclamation-circle","animate-bounce","cursor-pointer","px-1"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2," Modificar pregunta para el test del estudiante "),e.qZA(),e.TgZ(3,"form",2),e.NdJ("ngSubmit",function(){return r.update()}),e.TgZ(4,"fieldset",3)(5,"div",4)(6,"div",5)(7,"label",6),e._uU(8," Ingrese el nombre de la imagen: "),e.qZA()(),e.TgZ(9,"div",7),e._UZ(10,"input",8),e.YNc(11,Z,3,2,"div",9),e.qZA()(),e.TgZ(12,"div",4)(13,"div",5)(14,"label",10),e._uU(15," Cargar imagen: "),e.qZA()(),e.TgZ(16,"div",11)(17,"div",12)(18,"input",13),e.NdJ("change",function(l){return r.onFileSelected(l)}),e.qZA(),e.YNc(19,w,2,1,"div",9),e.qZA(),e.TgZ(20,"div",12),e.YNc(21,U,1,1,"img",14),e.qZA()()(),e.TgZ(22,"div",4)(23,"div",5)(24,"label",15),e._uU(25," Ingrese el valor de la imagen: "),e.qZA()(),e.TgZ(26,"div",7),e._UZ(27,"input",16),e.YNc(28,N,4,3,"div",9),e.qZA()(),e.TgZ(29,"div",4)(30,"div",5)(31,"label",17),e._uU(32," Ingrese la secci\xf3n ala que pertenece: "),e.qZA()(),e.TgZ(33,"div",7),e._UZ(34,"input",18),e.YNc(35,F,4,3,"div",9),e.qZA()(),e.TgZ(36,"div",19)(37,"div",20)(38,"button",21),e.NdJ("click",function(){return r.cancel()}),e._uU(39," Cancelar "),e.qZA(),e.TgZ(40,"button",22),e._uU(41," Editar "),e.qZA()()()()()()),2&t){let o,l,s,c;e.xp6(3),e.Q6J("formGroup",r.formTestImages.form),e.xp6(8),e.Q6J("ngIf",(null==(o=r.formTestImages.form.get("name"))?null:o.invalid)&&(null==(o=r.formTestImages.form.get("name"))?null:o.touched)),e.xp6(8),e.Q6J("ngIf",(null==(l=r.formTestImages.form.get("imagen"))?null:l.invalid)&&(null==(l=r.formTestImages.form.get("imagen"))?null:l.touched)),e.xp6(2),e.Q6J("ngIf",r.imageUrl),e.xp6(7),e.Q6J("ngIf",(null==(s=r.formTestImages.form.get("valor"))?null:s.invalid)&&(null==(s=r.formTestImages.form.get("valor"))?null:s.touched)),e.xp6(7),e.Q6J("ngIf",(null==(c=r.formTestImages.form.get("section"))?null:c.invalid)&&(null==(c=r.formTestImages.form.get("section"))?null:c.touched)),e.xp6(5),e.Q6J("disabled",r.formTestImages.form.invalid)}},dependencies:[g.O5,a._Y,a.Fj,a.wV,a.JJ,a.JL,a.sg,a.u],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:100%;height:100%;align-items:center;justify-content:center}"]}),n})();var v=m(6561);function L(n,i){1&n&&(e.TgZ(0,"div",2),e._UZ(1,"div",3),e.TgZ(2,"div",4)(3,"div",5),e._UZ(4,"div",6),e.TgZ(5,"div",7)(6,"span",8),e._uU(7,"Cargando"),e.qZA(),e.TgZ(8,"span",9),e._uU(9,"..."),e.qZA()()()()())}function S(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"tr",26)(1,"td",27),e._uU(2),e.qZA(),e.TgZ(3,"td",28),e._UZ(4,"img",29),e.qZA(),e.TgZ(5,"td",27),e._uU(6),e.qZA(),e.TgZ(7,"td",27),e._uU(8),e.qZA(),e.TgZ(9,"td",30)(10,"button",31),e._UZ(11,"i",32),e.qZA(),e.TgZ(12,"button",33),e.NdJ("click",function(){const l=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.delete(l._id))}),e._UZ(13,"i",34),e.qZA()()()}if(2&n){const t=i.$implicit,r=e.oxw(2);e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.Udp("height",60,"px")("width",80,"px"),e.Q6J("src",r.api+t.link,e.LSH),e.xp6(2),e.hij(" ",t.value," "),e.xp6(2),e.hij(" ",t.section," "),e.xp6(2),e.Q6J("routerLink","../editar/"+t._id)}}function R(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",35)(1,"div",36)(2,"div",37),e._uU(3,"Nombre:"),e.qZA(),e.TgZ(4,"div",38),e._uU(5),e.qZA()(),e.TgZ(6,"div",36)(7,"div",37),e._uU(8,"Link:"),e.qZA(),e.TgZ(9,"div",38),e._UZ(10,"img",29),e.qZA()(),e.TgZ(11,"div",36)(12,"div",37),e._uU(13,"Valor:"),e.qZA(),e.TgZ(14,"div",38),e._uU(15),e.qZA()(),e.TgZ(16,"div",36)(17,"div",37),e._uU(18," Secci\xf3n: "),e.qZA(),e.TgZ(19,"div",38),e._uU(20),e.qZA()(),e.TgZ(21,"div",39)(22,"button",40),e._uU(23," Editar "),e.qZA(),e.TgZ(24,"button",41),e.NdJ("click",function(){const l=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.delete(l._id))}),e._uU(25," Eliminar "),e.qZA()()()}if(2&n){const t=i.$implicit,r=e.oxw(2);e.xp6(5),e.hij(" ",t.name," "),e.xp6(5),e.Udp("height",60,"px")("width",80,"px"),e.Q6J("src",r.api+t.link,e.LSH),e.xp6(5),e.hij(" ",t.value," "),e.xp6(5),e.hij(" ",t.section," "),e.xp6(2),e.Q6J("routerLink","../editar/"+t._id)}}function E(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",10)(1,"div",11),e._uU(2," Gesti\xf3n del test estudiante "),e.qZA(),e.TgZ(3,"div",12)(4,"div",13)(5,"input",14),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.search=o)}),e.qZA(),e.TgZ(6,"button",15),e._uU(7," Registrar Imagen "),e.qZA()(),e.TgZ(8,"div",16)(9,"table",17)(10,"thead",18)(11,"tr")(12,"th",19),e._uU(13," Nombre "),e.qZA(),e.TgZ(14,"th",19),e._uU(15," Imagen "),e.qZA(),e.TgZ(16,"th",19),e._uU(17," Valor "),e.qZA(),e.TgZ(18,"th",19),e._uU(19," Secci\xf3n "),e.qZA(),e.TgZ(20,"th",19)(21,"div",20)(22,"label",4),e._uU(23,"Acciones"),e.qZA(),e.TgZ(24,"button",21),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.refresh())}),e._UZ(25,"i",22),e.qZA()()()()(),e.TgZ(26,"tbody"),e.YNc(27,S,14,9,"tr",23),e.ALo(28,"filterTables"),e.qZA()()(),e.TgZ(29,"div",24),e.YNc(30,R,26,9,"div",25),e.ALo(31,"filterTables"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t.search),e.xp6(1),e.Q6J("routerLink","../registrar"),e.xp6(21),e.Q6J("ngForOf",e.xi3(28,4,t.preguntas,t.search)),e.xp6(3),e.Q6J("ngForOf",e.xi3(31,7,t.preguntas,t.search))}}let b=(()=>{class n{constructor(t){this.preguntaService=t,this.api=d.N.api+"/api/1.0",this.search="",this.loading=!0,this.preguntas=[]}ngOnInit(){this.preguntaService.getAllPregunta().subscribe(t=>{const{message:r,data:o}=t;this.preguntas=o,this.loading=!1,console.log(r)})}refresh(){this.ngOnInit()}delete(t){this.preguntaService.deletePregunta(t).subscribe(r=>{const{message:o}=r;console.log(o),this.ngOnInit()},r=>{console.log(r)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-listar"]],features:[e._Bn([v.u,g.Zd,(0,g.Fs)(d.N.api+"/api/1.0")])],decls:2,vars:2,consts:[["class","fixed inset-0 flex items-center justify-center z-50",4,"ngIf"],["class","transition ease-in-out delay-150 w-[95%] h-[90%] lg:h-[95%] lg:m-2 mx-4 my-2 bg-cameo border-4 border-camelot rounded-lg overflow-x-hidden duration-300",4,"ngIf"],[1,"fixed","inset-0","flex","items-center","justify-center","z-50"],[1,"fixed","inset-0","bg-black","opacity-50"],[1,"flex","items-center","justify-center"],[1,"flex","flex-col","items-center"],[1,"animate-spin","rounded-full","h-20","w-20","border-t-4","border-b-4","border-primary"],[1,"flex","items-center","mt-2"],[1,"text-xl","font-bold","mr-1"],[1,"text-xl","animate-bounce"],[1,"transition","ease-in-out","delay-150","w-[95%]","h-[90%]","lg:h-[95%]","lg:m-2","mx-4","my-2","bg-cameo","border-4","border-camelot","rounded-lg","overflow-x-hidden","duration-300"],[1,"grid","grid-cols-1","mx-4","text-center","text-3xl","font-bold","text-camelot","py-2"],[1,"grid","grid-cols-1","mx-4"],[1,"flex"],["placeholder","Buscar por nombre, secci\xf3n...",1,"px-2","mx-3","py-3","border-b-2","border-camelot","rounded-lg","bg-none","text-camelot","text-xs","font-semibold","tracking-wide","focus:outline-none","focus:border-camelot-400",3,"ngModel","ngModelChange"],["type","button",1,"px-2","py-2","bg-nile-blue","text-cameo","text-xs","font-bold","uppercase","rounded","shadow","hover:shadow-lg","outline-none","focus:outline-none","mr-1","mb-1","ease-linear","transition-all","duration-150",3,"routerLink"],[1,"w-full","lg:h-auto","px-4","py-2","rounded-lg","shadow","hidden","lg:block"],[1,"w-full","lg:h-[85%]","my-2"],[1,"bg-nile-blue-200","border-b-2","border-nile-blue","text-cameo"],[1,"p-3","text-sm","font-semibold","tracking-wide","text-center"],[1,"flex","justify-between"],["type","button","title","Refrescar",1,"flex","items-center","justify-center","shadow-md","shadow-gold","p-2",3,"click"],["aria-hidden","true",1,"fa","fa-rotate-right","text-xl","font-extrabold"],["class","bg-nile-blue-100 border-b border-nile-blue-200 text-camelot",4,"ngFor","ngForOf"],[1,"w-full","lg:h-auto","px-4","py-2","rounded-lg","lg:hidden"],["class","w-full flex flex-col mb-2 border border-camelot rounded-lg hover:shadow-sm hover:shadow-camelot-300",4,"ngFor","ngForOf"],[1,"bg-nile-blue-100","border-b","border-nile-blue-200","text-camelot"],[1,"p-3","text-sm","text-black-100","tracking-wide","text-center"],[1,"p-3","text-sm","text-black-100","tracking-wide","flex","items-center","justify-center"],["loading","lazy",3,"src"],[1,"p-3","text-sm","text-black-100","tracking-wide","text-center","flex","flex-row","items-center","justify-center"],["type","button","title","Editar pregunta",3,"routerLink"],[1,"fa-solid","fa-pen-to-square","text-3xl","text-nile-blue-200","hover:text-camelot-400"],["type","button","title","Eliminar pregunta",1,"px-2",3,"click"],[1,"fa","fa-trash","text-3xl","text-red-500","font-bold","hover:text-nile-blue"],[1,"w-full","flex","flex-col","mb-2","border","border-camelot","rounded-lg","hover:shadow-sm","hover:shadow-camelot-300"],[1,"w-full","grid","grid-cols-5","break-all","items-left","space-x-2","text","pl-2","py-2","pr-2"],[1,"col-span-2","break-all","font-bold","text-camelot"],[1,"col-span-3","break-all","text-nile-blue"],[1,"flex","flex-row","gap-2","justify-end","my-2"],["type","button",1,"border-2","border-camelot","text-sm","text-nile-blue","bg-cameo","rounded-lg","px-2","py-1","mr-2",3,"routerLink"],["type","button",1,"border-2","border-camelot","text-sm","text-nile-blue","bg-cameo","rounded-lg","px-2","py-1","mr-2",3,"click"]],template:function(t,r){1&t&&(e.YNc(0,L,10,0,"div",0),e.YNc(1,E,32,10,"div",1)),2&t&&(e.Q6J("ngIf",r.loading),e.xp6(1),e.Q6J("ngIf",!r.loading))},dependencies:[g.sg,g.O5,u.rH,a.Fj,a.JJ,a.On,v.u],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:100%;height:100%;align-items:center;justify-content:center}"]}),n})();function j(n,i){1&n&&(e.ynx(0),e._UZ(1,"i",25),e.BQk())}function B(n,i){1&n&&(e.ynx(0),e._UZ(1,"i",26),e.BQk())}function M(n,i){if(1&n&&(e.TgZ(0,"div",23),e.YNc(1,j,2,0,"ng-container",24),e.YNc(2,B,2,0,"ng-container",24),e.qZA()),2&n){const t=e.oxw();let r,o;e.xp6(1),e.Q6J("ngIf",null==(r=t.formTestImages.form.get("name"))||null==r.errors?null:r.errors.required),e.xp6(1),e.Q6J("ngIf",null==(o=t.formTestImages.form.get("name"))||null==o.errors?null:o.errors.minlength)}}function O(n,i){1&n&&(e.ynx(0),e._UZ(1,"i",27),e.BQk())}function $(n,i){if(1&n&&(e.TgZ(0,"div",23),e.YNc(1,O,2,0,"ng-container",24),e.qZA()),2&n){const t=e.oxw();let r;e.xp6(1),e.Q6J("ngIf",null==(r=t.formTestImages.form.get("imagen"))||null==r.errors?null:r.errors.required)}}function V(n,i){if(1&n&&e._UZ(0,"img",28),2&n){const t=e.oxw();e.Q6J("src",t.imageUrl,e.LSH)}}function P(n,i){1&n&&(e.ynx(0),e._UZ(1,"i",29),e.BQk())}function G(n,i){1&n&&(e.ynx(0),e._UZ(1,"i",26),e.BQk())}function z(n,i){1&n&&(e.ynx(0),e._UZ(1,"i",30),e.BQk())}function H(n,i){if(1&n&&(e.TgZ(0,"div",23),e.YNc(1,P,2,0,"ng-container",24),e.YNc(2,G,2,0,"ng-container",24),e.YNc(3,z,2,0,"ng-container",24),e.qZA()),2&n){const t=e.oxw();let r,o,l;e.xp6(1),e.Q6J("ngIf",null==(r=t.formTestImages.form.get("valor"))||null==r.errors?null:r.errors.required),e.xp6(1),e.Q6J("ngIf",null==(o=t.formTestImages.form.get("valor"))||null==o.errors?null:o.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==(l=t.formTestImages.form.get("valor"))||null==l.errors?null:l.errors.pattern)}}function K(n,i){1&n&&(e.ynx(0),e._UZ(1,"i",29),e.BQk())}function X(n,i){1&n&&(e.ynx(0),e._UZ(1,"i",26),e.BQk())}function D(n,i){1&n&&(e.ynx(0),e._UZ(1,"i",30),e.BQk())}function W(n,i){if(1&n&&(e.TgZ(0,"div",23),e.YNc(1,K,2,0,"ng-container",24),e.YNc(2,X,2,0,"ng-container",24),e.YNc(3,D,2,0,"ng-container",24),e.qZA()),2&n){const t=e.oxw();let r,o,l;e.xp6(1),e.Q6J("ngIf",null==(r=t.formTestImages.form.get("section"))||null==r.errors?null:r.errors.required),e.xp6(1),e.Q6J("ngIf",null==(o=t.formTestImages.form.get("section"))||null==o.errors?null:o.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==(l=t.formTestImages.form.get("section"))||null==l.errors?null:l.errors.pattern)}}const ee=[{path:"",component:b,pathMatch:"full"},{path:"listar",component:b},{path:"registrar",component:(()=>{class n{constructor(t,r,o,l){this.testService=t,this.imageService=r,this.router=o,this.route=l,this.formTestImages=new _,this.srcImage="",this.imageUrl=""}ngOnInit(){throw new Error("Method not implemented.")}ngOnit(){this.formTestImages.form.reset()}create(){console.log(this.srcImage),this.testImages={name:this.formTestImages.form.value.name,urlImage:this.srcImage,value:this.formTestImages.form.value.valor,section:this.formTestImages.form.value.section};const t=new FormData;t.append("singleFile",this.imagenTest),t.append("data",JSON.stringify(this.testImages)),this.testService.createPregunta(t).subscribe(r=>{const{message:o}=r;console.log(o),this.router.navigate(["../listar"],{relativeTo:this.route})},r=>{console.log(r)})}onFileSelected(t){const r=t.target.files[0];if(!this.imageService.validateImage(r))return this.formTestImages.form.patchValue({imagen:""}),this.imagenTest=void 0,void(this.imageUrl="");{this.imagenTest=this.imageService.renameImage(r,"TestImagenes"),this.srcImage="/public/TestImagenes/"+this.imagenTest.name,console.log("Nueva ruta: ",this.srcImage," Archivo",this.imagenTest);const o=new FileReader;o.onload=l=>{this.imageUrl=l.target.result},o.readAsDataURL(r)}}cancel(){this.router.navigate(["../listar"],{relativeTo:this.route})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f),e.Y36(h),e.Y36(u.F0),e.Y36(u.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-registrar"]],decls:42,vars:7,consts:[[1,"w-[95%]","lg:h-[95%]","m-2","bg-cameo","border-4","border-camelot","rounded-lg","overflow-x-hidden"],[1,"w-full","lg:h-[10%]","text-center","text-3xl","font-bold","text-camelot","py-4","flex","items-center","justify-center"],[1,"w-full","lg:h-[90%]","py-2",3,"formGroup","ngSubmit"],[1,"w-full","flex","flex-col","items-center"],[1,"lg:w-[60%]","w-[80%]","grid","lg:grid-cols-2","mb-4","grid-cols-1"],[1,"w-full","col-span-1","text-camelot","text-lg","mt-2","py-1","text-left"],["for","name"],[1,"w-full","col-span-1","text-nile-blue","text-lg","flex","items-center","justify-center","mt-1"],["type","text","id","name","formControlName","name",1,"w-full","border-2","border-camelot","rounded-lg","focus:ring-camelot-400","focus:border-camelot-400"],["class","text-red-200 text-xl rounded pl-2 flex","role","alert",4,"ngIf"],["for","imagen"],[1,"flex","flex-col","col-span-1"],[1,"w-full","text-nile-blue","text-lg","flex","items-center","justify-center","mt-1"],["type","file","id","imagen","formControlName","imagen","accept","image/*",1,"w-full","border-2","border-camelot","rounded-lg","focus:ring-camelot-400","focus:border-camelot-400",3,"change"],["alt","Imagen seleccionada","class","w-40 h-40",3,"src",4,"ngIf"],["for","value"],["type","number","id","name","formControlName","valor",1,"w-full","border-2","border-camelot","rounded-lg","focus:ring-camelot-400","focus:border-camelot-400"],["for","section"],["type","number","id","name","formControlName","section",1,"w-full","border-2","border-camelot","rounded-lg","focus:ring-camelot-400","focus:border-camelot-400"],[1,"lg:w-[60%]","w-[80%]","grid","grid-cols-1","mb-4"],[1,"w-full","flex","text-camelot","text-lg","mr-2","mb-2","justify-end"],["type","button",1,"border-2","border-camelot","text-lg","text-nile-blue","bg-cameo","rounded-lg","px-2","py-1","hover:bg-nile-blue","hover:text-cameo","mr-2",3,"click"],["type","submit",1,"border-2","border-camelot","text-lg","text-nile-blue","bg-cameo","rounded-lg","px-2","py-1","hover:bg-nile-blue","hover:text-cameo",3,"disabled"],["role","alert",1,"text-red-200","text-xl","rounded","pl-2","flex"],[4,"ngIf"],["title","Nombre requerido",1,"fa","fa-exclamation-circle","animate-bounce","cursor-pointer","px-1"],["title","Longitud minima requerida",1,"fa","fa-exclamation-circle","animate-bounce","cursor-pointer","px-1"],["title","Imagen requerida",1,"fa","fa-exclamation-circle","animate-bounce","cursor-pointer","px-1"],["alt","Imagen seleccionada",1,"w-40","h-40",3,"src"],["title","Valor requerido",1,"fa","fa-exclamation-circle","animate-bounce","cursor-pointer","px-1"],["title","Solo se permiten n\xfameros ",1,"fa","fa-exclamation-circle","animate-bounce","cursor-pointer","px-1"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2," Registro de preguntas del test de estudiante "),e.qZA(),e.TgZ(3,"form",2),e.NdJ("ngSubmit",function(){return r.create()}),e.TgZ(4,"fieldset",3)(5,"div",4)(6,"div",5)(7,"label",6),e._uU(8," Ingrese el nombre de la imagen: "),e.qZA()(),e.TgZ(9,"div",7),e._UZ(10,"input",8),e.YNc(11,M,3,2,"div",9),e.qZA()(),e.TgZ(12,"div",4)(13,"div",5)(14,"label",10),e._uU(15," Cargar imagen: "),e.qZA()(),e.TgZ(16,"div",11)(17,"div",12)(18,"input",13),e.NdJ("change",function(l){return r.onFileSelected(l)}),e.qZA(),e.YNc(19,$,2,1,"div",9),e.qZA(),e.TgZ(20,"div",12),e.YNc(21,V,1,1,"img",14),e.qZA()()(),e.TgZ(22,"div",4)(23,"div",5)(24,"label",15),e._uU(25," Ingrese el valor de la imagen: "),e.qZA()(),e.TgZ(26,"div",7),e._UZ(27,"input",16),e.YNc(28,H,4,3,"div",9),e.qZA()(),e.TgZ(29,"div",4)(30,"div",5)(31,"label",17),e._uU(32," Ingrese la secci\xf3n ala que pertenece: "),e.qZA()(),e.TgZ(33,"div",7),e._UZ(34,"input",18),e.YNc(35,W,4,3,"div",9),e.qZA()(),e.TgZ(36,"div",19)(37,"div",20)(38,"button",21),e.NdJ("click",function(){return r.cancel()}),e._uU(39," Cancelar "),e.qZA(),e.TgZ(40,"button",22),e._uU(41," Registrar "),e.qZA()()()()()()),2&t){let o,l,s,c;e.xp6(3),e.Q6J("formGroup",r.formTestImages.form),e.xp6(8),e.Q6J("ngIf",(null==(o=r.formTestImages.form.get("name"))?null:o.invalid)&&(null==(o=r.formTestImages.form.get("name"))?null:o.touched)),e.xp6(8),e.Q6J("ngIf",(null==(l=r.formTestImages.form.get("imagen"))?null:l.invalid)&&(null==(l=r.formTestImages.form.get("imagen"))?null:l.touched)),e.xp6(2),e.Q6J("ngIf",r.imageUrl),e.xp6(7),e.Q6J("ngIf",(null==(s=r.formTestImages.form.get("valor"))?null:s.invalid)&&(null==(s=r.formTestImages.form.get("valor"))?null:s.touched)),e.xp6(7),e.Q6J("ngIf",(null==(c=r.formTestImages.form.get("section"))?null:c.invalid)&&(null==(c=r.formTestImages.form.get("section"))?null:c.touched)),e.xp6(5),e.Q6J("disabled",r.formTestImages.form.invalid)}},dependencies:[g.O5,a._Y,a.Fj,a.wV,a.JJ,a.JL,a.sg,a.u],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:100%;height:100%;align-items:center;justify-content:center}"]}),n})()},{path:"editar/:id",component:Y}];let te=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.Bz.forChild(ee),u.Bz]}),n})();var ne=m(4466);let re=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[g.ez,te,a.UX,a.u5,ne.m]}),n})()}}]);
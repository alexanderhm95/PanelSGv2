"use strict";(self.webpackChunkPanelSG=self.webpackChunkPanelSG||[]).push([[270],{9858:(O,g,r)=>{r.r(g),r.d(g,{TestDocenteModule:()=>Q});var c=r(6895),d=r(668),e=r(8256),v=r(4204),f=r(2126),m=r(9017),l=r(433);function h(i,n){1&i&&(e.TgZ(0,"div",2),e._UZ(1,"div",3),e.TgZ(2,"div",4)(3,"div",5),e._UZ(4,"div",6),e.TgZ(5,"div",7)(6,"span",8),e._uU(7,"Cargando"),e.qZA(),e.TgZ(8,"span",9),e._uU(9,"..."),e.qZA()()()()())}function _(i,n){if(1&i&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.s9C("value",t.valueAnswer),e.xp6(1),e.hij(" ",t.nameAnswer," ")}}function b(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",25)(1,"label",26),e._uU(2),e.qZA(),e.TgZ(3,"select",27),e.NdJ("ngModelChange",function(s){const u=e.CHM(t).$implicit,Y=e.oxw(2);return e.KtG(Y.answers[u._id]=s)})("ngModelChange",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.checkFormValidity())}),e.YNc(4,_,2,2,"option",28),e.qZA()()}if(2&i){const t=n.$implicit,o=e.oxw(2);e.xp6(2),e.hij(" ",t.nameQuestion,""),e.xp6(1),e.s9C("name",t._id),e.Q6J("ngModel",o.answers[t._id]),e.xp6(1),e.Q6J("ngForOf",t.answer)}}function Z(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",10)(1,"div",11),e._uU(2," Evaluaci\xf3n del docente "),e.qZA(),e.TgZ(3,"div",12)(4,"div",13)(5,"div",14)(6,"div",15),e._uU(7," INTRODUCCI\xd3N PARA EL/LA DOCENTE "),e.qZA()(),e.TgZ(8,"div",16)(9,"div",17),e._uU(10," De los siguientes indicadores de riesgo presentes en ni\xf1as y ni\xf1os v\xedctimas de violencia sexual, marque de acuerdo a la frecuencia con la cual usted ha podido observar en la interacci\xf3n con le ni\xf1os o ni\xf1a referido en el contexto escolar; siendo 0 es nulo, 1 poco frecuente, 2 medianamente frecuente y 3 muy frecuente. "),e.qZA()()(),e.TgZ(11,"div",13)(12,"div",14)(13,"div",15),e._uU(14,"ESTUDIANTE"),e.qZA()(),e.TgZ(15,"div",16)(16,"div",18),e._uU(17),e.qZA()()(),e.TgZ(18,"div",13)(19,"div",14)(20,"div",15),e._uU(21," GRADO Y PARALELO "),e.qZA()(),e.TgZ(22,"div",19)(23,"div",18),e._uU(24),e.qZA()()(),e.TgZ(25,"div",13)(26,"div",14)(27,"div",15),e._uU(28," DOCENTE EVALUADOR "),e.qZA()(),e.TgZ(29,"div",16)(30,"div",18),e._uU(31),e.qZA()()(),e.TgZ(32,"div",13)(33,"div",14)(34,"div",15),e._uU(35," FECHA DE APLICACI\xd3N "),e.qZA()(),e.TgZ(36,"div",16)(37,"div",18),e._uU(38),e.ALo(39,"date"),e.qZA()()()(),e.TgZ(40,"form",20),e.NdJ("ngSubmit",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.create())}),e.TgZ(41,"fieldset",21),e.YNc(42,b,5,4,"div",22),e.TgZ(43,"div",23)(44,"button",24),e._uU(45," Registrar "),e.qZA()()()()()}if(2&i){const t=e.oxw();e.xp6(17),e.hij(" ",(null==t.caso?null:t.caso.nameStudent)+" "+(null==t.caso?null:t.caso.lastNameStudent)," "),e.xp6(7),e.hij(" ",(null==t.caso?null:t.caso.grade)+" "+(null==t.caso?null:t.caso.parallel)," "),e.xp6(7),e.hij(" ",(null==t.caso?null:t.caso.nameTeacher)+" "+(null==t.caso?null:t.caso.lastNameTeacher)," "),e.xp6(7),e.hij(" ",e.xi3(39,6,t.date,"dd/MM/yyyy")," "),e.xp6(4),e.Q6J("ngForOf",t.test),e.xp6(2),e.Q6J("disabled",t.answersForm)}}let T=(()=>{class i{constructor(t,o,s,a,u){this.questionService=t,this.notification=o,this.casoService=s,this.router=a,this.route=u,this.test=[],this.answers=[],this.answersForm=!0,this.loading=!0}ngOnInit(){this.date=new Date,this.id=this.route.snapshot.paramMap.get("id"),this.getCaso()}checkFormValidity(){Object.entries(this.answers).map(([o,s])=>({refQuestion:o,valueAnswer:parseInt(s,10)})).length===this.test.length&&(this.answersForm=!1)}create(){const t=Object.entries(this.answers).map(([s,a])=>({refQuestion:s,valueAnswer:parseInt(a,10)}));t.length<this.test.length?this.notification.showError("Error","Debe completar todos los campos"):this.casoService.createTestTeacher({ciStudent:this.caso?.ciStudent,ciTeacher:this.caso?.ciTeacher,answers:t}).subscribe(s=>{const{message:a}=s;console.log(a),this.notification.showSuccess("Registro","Evaluaci\xf3n completada con \xe9xito"),this.router.navigate(["../../listar"],{relativeTo:this.route})},s=>{this.notification.showError("Error",0===s.status?"Error de conexi\xf3n con el servidor":s.error.error)})}getCaso(){this.casoService.getCaso(this.id).subscribe(t=>{const{message:o,data:s}=t;this.caso=s,this.getTest(),console.log(o)},t=>{this.notification.showError("Error",0===t.status?"Error de conexi\xf3n con el servidor":"Error al obtener los datos del caso")})}getTest(){this.questionService.getAllQuestion().subscribe(t=>{const{message:o,data:s}=t;this.test=s,this.loading=!1,console.log(t),console.log(o)},t=>{this.notification.showError("Error",0===t.status?"Error de conexi\xf3n con el servidor":"Error al cargar las preguntas")})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(v.R),e.Y36(f.T),e.Y36(m.z),e.Y36(d.F0),e.Y36(d.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-editar"]],features:[e._Bn([c.uU])],decls:2,vars:2,consts:[["class","fixed inset-0 flex items-center justify-center z-50",4,"ngIf"],["class","transition ease-in-out delay-150 w-[95%] h-[90%] lg:h-[95%] lg:m-2 mx-4 my-2 bg-cameo border-4 border-camelot rounded-lg overflow-x-hidden duration-300 flex flex-col items-center",4,"ngIf"],[1,"fixed","inset-0","flex","items-center","justify-center","z-50"],[1,"fixed","inset-0","bg-black","opacity-50"],[1,"flex","items-center","justify-center"],[1,"flex","flex-col","items-center"],[1,"animate-spin","rounded-full","h-20","w-20","border-t-4","border-b-4","border-primary"],[1,"flex","items-center","mt-2"],[1,"text-xl","font-bold","mr-1"],[1,"text-xl","animate-bounce"],[1,"transition","ease-in-out","delay-150","w-[95%]","h-[90%]","lg:h-[95%]","lg:m-2","mx-4","my-2","bg-cameo","border-4","border-camelot","rounded-lg","overflow-x-hidden","duration-300","flex","flex-col","items-center"],[1,"grid","grid-cols-1","text-center","text-3xl","font-bold","text-camelot","py-4","items-center","justify-center"],[1,"w-[80%]","grid","grid-cols-1"],[1,"lg:grid","lg:grid-cols-3","px-8","sm:flex"],[1,"col-span-1"],[1,"w-full","flex","text-camelot","font-semibold"],[1,"col-span-2"],[1,"w-full","flex","text-nile-blue","font-semibold","text-justify","sm:pl-2"],[1,"w-full","flex","text-nile-blue","font-semibold","sm:pl-2"],[1,"col-span-2","uppercase"],[1,"w-[80%]",3,"ngSubmit"],[1,"w-full"],["class","w-full my-2 border border-white rounded-lg p-2 flex flex-col lg:justify-start lg:gap-2 ml-4 first-letter shadow",4,"ngFor","ngForOf"],[1,"w-full","flex","text-camelot","text-lg","mr-2","my-4","justify-end"],["type","submit",1,"border-2","border-camelot","text-lg","text-nile-blue","bg-cameo","rounded-lg","px-2","py-2","my-3","hover:bg-nile-blue","hover:text-cameo",3,"disabled"],[1,"w-full","my-2","border","border-white","rounded-lg","p-2","flex","flex-col","lg:justify-start","lg:gap-2","ml-4","first-letter","shadow"],[1,"w-full","text-nile-blue","text-base","font-bold","flex","flex-row"],[1,"w-full","flex","flex-row",3,"ngModel","name","ngModelChange"],["class","text-black-300 font-semibold ",3,"value",4,"ngFor","ngForOf"],[1,"text-black-300","font-semibold",3,"value"]],template:function(t,o){1&t&&(e.YNc(0,h,10,0,"div",0),e.YNc(1,Z,46,9,"div",1)),2&t&&(e.Q6J("ngIf",o.loading),e.xp6(1),e.Q6J("ngIf",!o.loading))},dependencies:[c.sg,c.O5,l._Y,l.YN,l.Kr,l.EJ,l.JJ,l.JL,l.On,l.F,c.uU],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:100%;height:100%;align-items:center;justify-content:center}"]}),i})();var x=r(6561),A=r(1045);function w(i,n){1&i&&(e.TgZ(0,"div",3),e._UZ(1,"div",4),e.TgZ(2,"div",3)(3,"div",5),e._UZ(4,"div",6),e.TgZ(5,"div",7)(6,"span",8),e._uU(7,"Cargando"),e.qZA(),e.TgZ(8,"span",9),e._uU(9,"..."),e.qZA()()()()())}function C(i,n){if(1&i&&(e.TgZ(0,"div")(1,"button",31),e._uU(2," Evaluar "),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("routerLink","../evaluar/"+t.id)}}function y(i,n){1&i&&(e.TgZ(0,"div")(1,"button",32),e._uU(2," Atendido "),e.qZA()())}function E(i,n){if(1&i&&(e.TgZ(0,"tr")(1,"td",25)(2,"div",26)(3,"span")(4,"strong"),e._uU(5,"CI: "),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"span")(8,"strong"),e._uU(9,"Nombres: "),e.qZA(),e._uU(10),e.qZA()()(),e.TgZ(11,"td",27)(12,"strong"),e._uU(13,"Instituci\xf3n: "),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",28)(16,"div",29),e.YNc(17,C,3,1,"div",30),e.YNc(18,y,3,0,"div",30),e.qZA()()()),2&i){const t=n.$implicit;e.xp6(6),e.hij(" ",t.CI,""),e.xp6(4),e.AsE(" ",t.name," ",t.lastName,""),e.xp6(4),e.hij("",t.institution," "),e.xp6(2),e.Q6J("ngSwitch",t.statusTestTeacher),e.xp6(1),e.Q6J("ngSwitchCase",!1),e.xp6(1),e.Q6J("ngSwitchCase",!0)}}function U(i,n){if(1&i&&(e.TgZ(0,"tbody"),e.YNc(1,E,19,7,"tr",24),e.ALo(2,"filterTables"),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,t.casos,t.search))}}function q(i,n){if(1&i&&(e.TgZ(0,"div")(1,"button",31),e._uU(2," Evaluar "),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("routerLink","../evaluar/"+t.id)}}function F(i,n){1&i&&(e.TgZ(0,"div")(1,"button",32),e._uU(2,"Atendido"),e.qZA()())}function j(i,n){if(1&i&&(e.TgZ(0,"div",33)(1,"div",34),e._uU(2," Evaluador "),e.qZA(),e.TgZ(3,"div",35)(4,"div",36),e._uU(5,"CI:"),e.qZA(),e.TgZ(6,"div",37),e._uU(7),e.qZA()(),e.TgZ(8,"div",35)(9,"div",36),e._uU(10,"Nombre:"),e.qZA(),e.TgZ(11,"div",37),e._uU(12),e.qZA()(),e.TgZ(13,"div",34),e._uU(14," Estudiante "),e.qZA(),e.TgZ(15,"div",35)(16,"div",36),e._uU(17,"CI:"),e.qZA(),e.TgZ(18,"div",37),e._uU(19),e.qZA()(),e.TgZ(20,"div",35)(21,"div",36),e._uU(22,"Nombre:"),e.qZA(),e.TgZ(23,"div",37),e._uU(24),e.qZA()(),e.TgZ(25,"div",35)(26,"div",36),e._uU(27," Instituci\xf3n "),e.qZA(),e.TgZ(28,"div",37),e._uU(29),e.qZA()(),e.TgZ(30,"div",38)(31,"div",29),e.YNc(32,q,3,1,"div",30),e.YNc(33,F,3,0,"div",30),e.qZA()()()),2&i){const t=n.$implicit;e.xp6(7),e.hij(" ",t.CIteacher," "),e.xp6(5),e.AsE(" ",t.nameT," ",t.lastNameT," "),e.xp6(7),e.hij(" ",t.CI," "),e.xp6(5),e.AsE(" ",t.name," ",t.lastName," "),e.xp6(5),e.hij(" ",t.institution," "),e.xp6(2),e.Q6J("ngSwitch",t.statusTestTeacher),e.xp6(1),e.Q6J("ngSwitchCase",!1),e.xp6(1),e.Q6J("ngSwitchCase",!0)}}function N(i,n){1&i&&(e.TgZ(0,"div",39),e._uU(1," No hay datos para mostrar "),e.qZA())}function J(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",10)(1,"div",11),e._uU(2," Casos Asignados "),e.qZA(),e.TgZ(3,"div",12)(4,"div",13)(5,"input",14),e.NdJ("ngModelChange",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.search=s)}),e.qZA()()(),e.TgZ(6,"div",15)(7,"table",16)(8,"thead",17)(9,"tr")(10,"th",18),e._uU(11," Caso "),e.qZA(),e.TgZ(12,"th",18),e._uU(13," Estudiante "),e.qZA(),e.TgZ(14,"th",18),e._uU(15," Instituci\xf3n "),e.qZA(),e.TgZ(16,"th",18)(17,"div",19)(18,"label",3),e._uU(19,"Acciones"),e.qZA()()()()(),e.YNc(20,U,3,4,"tbody",20),e.qZA()(),e.TgZ(21,"div",21),e.YNc(22,j,34,10,"div",22),e.ALo(23,"filterTables"),e.qZA(),e.YNc(24,N,2,0,"div",23),e.qZA()}if(2&i){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t.search),e.xp6(15),e.Q6J("ngIf",t.casos),e.xp6(2),e.Q6J("ngForOf",e.xi3(23,4,t.casos,t.search)),e.xp6(2),e.Q6J("ngIf",!t.casos)}}let I=(()=>{class i{constructor(t,o,s){this.notification=t,this.authService=o,this.casoService=s,this.casos=[],this.loading=!0,this.search="",this.idUserTeacher=""}ngOnInit(){this.idUserTeacher=this.authService.getUserId(),this.getCasos(this.idUserTeacher)}getCasos(t){this.casoService.getAllCasosTeacher(t).subscribe(o=>{const{message:s,data:a}=o;this.casos=a,this.loading=!1,console.log(s)},o=>{this.notification.showError("Error",0===o.status?"Error de conexi\xf3n con el servidor":o.error.error)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(f.T),e.Y36(A.e),e.Y36(m.z))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-listar"]],features:[e._Bn([x.u])],decls:3,vars:2,consts:[[1,"transition","ease-in-out","delay-150","w-[95%]","h-[90%]","lg:h-[95%]","lg:m-2","mx-4","my-2","bg-cameo","border-4","border-camelot","rounded-lg","overflow-x-hidden","duration-300","flex","justify-center"],["class","flex items-center justify-center",4,"ngIf"],["class","w-full",4,"ngIf"],[1,"flex","items-center","justify-center"],[1,"fixed","inset-0","bg-black","opacity-50"],[1,"flex","flex-col","items-center"],[1,"animate-spin","rounded-full","h-20","w-20","border-t-4","border-b-4","border-primary"],[1,"flex","items-center","mt-2"],[1,"text-xl","font-bold","mr-1"],[1,"text-xl","animate-bounce"],[1,"w-full"],[1,"grid","grid-cols-1","mx-4","text-center","text-3xl","font-bold","text-camelot","py-2"],[1,"grid","grid-cols-1","mx-4"],[1,"flex"],["placeholder","Buscar por c\xe9dula, nombre, email",1,"mx-3","px-2","py-3","border-b-2","border-camelot","rounded-lg","bg-none","text-camelot","text-xs","font-semibold","tracking-wide","lg:w-[20%]","focus:outline-none","focus:border-camelot-400",3,"ngModel","ngModelChange"],[1,"w-full","lg:h-auto","px-4","py-2","rounded-lg","shadow","hidden","lg:block"],[1,"w-full","lg:h-[92%]","my-2"],[1,"bg-nile-blue-200","border-b-2","border-nile-blue","text-cameo"],[1,"p-3","text-sm","font-semibold","tracking-wide","text-center"],[1,"flex","justify-between"],[4,"ngIf"],[1,"w-full","lg:h-auto","px-4","py-2","rounded-lg","lg:hidden"],["class","w-full h-full flex flex-col mb-2 border border-camelot rounded-lg hover:shadow-sm hover:shadow-camelot-300",4,"ngFor","ngForOf"],["class"," mx-4 flex bg-red-700 text-red text-xl rounded-lg font-bold items-center justify-center py-2 text-center",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"p-3","text-base","text-black-100","tracking-wide","text-left"],[1,"flex","flex-col"],[1,"p-3","text-sm","text-black-100","tracking-wide","text-center"],[1,"p-3","text-sm","text-black-100","tracking-wide","flex","items-center","justify-center"],[3,"ngSwitch"],[4,"ngSwitchCase"],["type","button",1,"btnAccion",3,"routerLink"],["type","button","disabled","",1,"btnAccion"],[1,"w-full","h-full","flex","flex-col","mb-2","border","border-camelot","rounded-lg","hover:shadow-sm","hover:shadow-camelot-300"],[1,"w-full","grid","grid-cols-1","break-all","items-center","space-x-2","text-center","text-camelot","text-lg","px-2","font-bold","underline"],[1,"w-full","grid","grid-cols-5","break-all","items-left","space-x-2","text","pl-2","py-2","pr-2"],[1,"col-span-2","break-all","font-bold","text-camelot"],[1,"col-span-3","break-all","text-nile-blue"],[1,"flex","flex-row","gap-2","justify-end","my-2"],[1,"mx-4","flex","bg-red-700","text-red","text-xl","rounded-lg","font-bold","items-center","justify-center","py-2","text-center"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,w,10,0,"div",1),e.YNc(2,J,25,7,"div",2),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.loading),e.xp6(1),e.Q6J("ngIf",!o.loading))},dependencies:[c.sg,c.O5,c.RF,c.n9,d.rH,l.Fj,l.JJ,l.On,x.u],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:100%;height:100%;align-items:center;justify-content:center}"]}),i})();var p=r(7574);const S=[{path:"listar",component:I,canActivate:[p.a],data:{requiredRole:"TEACHER"},title:"Evaluaci\xf3n Docente"},{path:"evaluar/:id",component:T,canActivate:[p.a],data:{requiredRole:"TEACHER"},title:"Evaluaci\xf3n Docente"}];let L=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[d.Bz.forChild(S),d.Bz]}),i})();var M=r(4466);let Q=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[c.ez,L,l.UX,l.u5,M.m]}),i})()}}]);